// ===============================
// permissions.js
// ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช ุญุณุจ ุงูุฏูุฑ
// ===============================

// ุชุนุฑูู ุงูุตูุงุญูุงุช ููู ุฏูุฑ
// ูููู ุชุนุฏูู ูุฐู ุงููุตูููุฉ ูุชูุงุณุจ ุงุญุชูุงุฌุงุชู
const PERMISSIONS = {
  "ูุฏูุฑ": {
    "ูุญุฏุงุช": ["ุฅุถุงูุฉ", "ุชุนุฏูู", "ุญุฐู", "ุนุฑุถ"],
    "ุนููุฏ": ["ุฅุถุงูุฉ", "ุชุนุฏูู", "ุญุฐู", "ุนุฑุถ", "ุชุฌุฏูุฏ", "ุฃุฑุดูุฉ"],
    "ูุณุชุฃุฌุฑูู": ["ุฅุถุงูุฉ", "ุชุนุฏูู", "ุญุฐู", "ุนุฑุถ"],
    "ุตูุงูุฉ": ["ุฅุถุงูุฉ", "ุชุนุฏูู", "ุญุฐู", "ุนุฑุถ", "ุทุจุงุนุฉ"],
    "ุชูุงุฑูุฑ": ["ุนุฑุถ", "ุทุจุงุนุฉ"],
    "ุฅุนุฏุงุฏุงุช": ["ูุณุชุฎุฏููู", "ุฃุฏูุงุฑ", "ูุฑูุน", "ููุชุฑุฉ"]
  },
  "ูุฏูุฑ ูุฑุน": {
    "ูุญุฏุงุช": ["ุฅุถุงูุฉ", "ุชุนุฏูู", "ุนุฑุถ"],
    "ุนููุฏ": ["ุฅุถุงูุฉ", "ุชุนุฏูู", "ุนุฑุถ", "ุชุฌุฏูุฏ"],
    "ูุณุชุฃุฌุฑูู": ["ุฅุถุงูุฉ", "ุชุนุฏูู", "ุนุฑุถ"],
    "ุตูุงูุฉ": ["ุฅุถุงูุฉ", "ุชุนุฏูู", "ุนุฑุถ"],
    "ุชูุงุฑูุฑ": ["ุนุฑุถ"],
    "ุฅุนุฏุงุฏุงุช": []
  },
  "ููุธู": {
    "ูุญุฏุงุช": ["ุนุฑุถ"],
    "ุนููุฏ": ["ุนุฑุถ"],
    "ูุณุชุฃุฌุฑูู": ["ุนุฑุถ"],
    "ุตูุงูุฉ": ["ุฅุถุงูุฉ", "ุนุฑุถ"],
    "ุชูุงุฑูุฑ": ["ุนุฑุถ"],
    "ุฅุนุฏุงุฏุงุช": []
  }
};

// ุงูุชุญูู ูู ุงูุตูุงุญูุฉ
export function hasPermission(role, section, action) {
  if (!PERMISSIONS[role]) return false;
  return PERMISSIONS[role][section]?.includes(action) || false;
}

// ุชุนุทูู ุฒุฑ ุฃู ุนูุตุฑ ุฅุฐุง ูู ุชุชููุฑ ุงูุตูุงุญูุฉ
export function guardButton(element, role, section, action) {
  if (!element) return;
  if (!hasPermission(role, section, action)) {
    element.disabled = true;
    element.title = "๐ซ ูุง ุชููู ุตูุงุญูุฉ " + action;
  }
}

// ุฅุฎูุงุก ุนูุตุฑ ุฅุฐุง ูู ุชุชููุฑ ุงูุตูุงุญูุฉ
export function guardElement(element, role, section, action) {
  if (!element) return;
  if (!hasPermission(role, section, action)) {
    element.style.display = "none";
  }
}
